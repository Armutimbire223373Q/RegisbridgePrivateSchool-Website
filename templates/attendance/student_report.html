{% extends 'public/base.html' %}
{% block content %}
<section class="py-5">
  <div class="container">
    <h1 class="fw-bold mb-1">{{ student.user.get_full_name|default:student.user.username }}</h1>
    <p class="text-muted">{{ student.grade_level.name }} {{ student.classroom.name }} Â· Adm No: {{ student.admission_number }}</p>

    <form class="row g-2 mb-4" method="get">
      <div class="col-md-3"><input class="form-control" type="date" name="start" value="{{ start|date:'Y-m-d' }}"></div>
      <div class="col-md-3"><input class="form-control" type="date" name="end" value="{{ end|date:'Y-m-d' }}"></div>
      <div class="col-md-2"><button class="btn btn-primary w-100" type="submit">Filter</button></div>
      <div class="col-md-4 text-end"><a class="btn btn-outline-secondary" href="{% url 'attendance_classes' %}">Back to Classes</a></div>
    </form>

    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr><th>Date</th><th>Status</th><th>Remarks</th></tr>
        </thead>
        <tbody>
          {% for r in records %}
          <tr>
            <td>{{ r.session.date }}</td>
            <td>{{ r.get_status_display }}</td>
            <td>{{ r.remarks }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="3" class="text-muted">No records.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}

